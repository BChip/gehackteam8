<link rel="import" href="../polymer/polymer.html"/>
<link rel="import" href="../px-polymer-font-awesome/polymer-font-awesome.html" />

<link rel="import" href="css/px-card-header-styles.html">

<dom-module id="px-card-header">
  <template>
    <style include="px-card-header-styles"></style>

    <header class="u-mb u--mh+ u-ph+ flex flex--middle flex--justify">
      <h3 class="caps u-mv0" id="headertext">
        <iron-icon id="headericon" class="u-mr--"></iron-icon>{{headerText}}
      </h3>
      <template is="dom-if" if="{{chevron}}">
        <button class="btn btn--bare">
          <iron-icon icon="fa:fa-chevron-down"></iron-icon>
        </button>
      </template>
    </header>
  </template>
</dom-module>

<script type="text/javascript">

    Polymer({
      is: 'px-card-header',
      properties:{
        headerText:{
          type: String
        },
        icon:{
          type: String,
          observer: '_iconChange'
        },
        chevron: {
          type: Boolean
        }
      },
      attached: function(){
        this._iconChange();
      },
      _iconChange: function() {
        if(this.icon){
          var headerIcon = Polymer.dom(this.root).querySelector('#headericon');
          headerIcon.icon = "fa:"+this.icon;
          this.toggleClass("hidden", false, headerIcon);
        }
        else {
          var headerIcon = Polymer.dom(this.root).querySelector('#headericon');
          headerIcon.icon = "";
          this.toggleClass("hidden", true, headerIcon);
        }
      }
    });

</script>
